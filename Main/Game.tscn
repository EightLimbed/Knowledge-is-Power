[gd_scene load_steps=17 format=3 uid="uid://cqo1gwf4jc7sn"]

[ext_resource type="Script" uid="uid://bxc1xq2mr1yjf" path="res://Main/Game.gd" id="1_n2juu"]
[ext_resource type="PackedScene" uid="uid://bfddkmtljoe24" path="res://Dungeons/Dungeon.tscn" id="2_ew2mm"]
[ext_resource type="PackedScene" uid="uid://imjbg5m6uhty" path="res://Player/Player.tscn" id="3_u20kj"]
[ext_resource type="PackedScene" uid="uid://c5y104ym601rl" path="res://Pickups/ItemPickup.tscn" id="4_gcscy"]
[ext_resource type="PackedScene" uid="uid://b3gn06ty82qy8" path="res://UI/HUD/ProgressBars/HealthBar.tscn" id="5_gk5jb"]
[ext_resource type="FontFile" uid="uid://qyymmx2cgefj" path="res://UI/Pickup Notification/editundo.ttf" id="5_hiksi"]
[ext_resource type="PackedScene" uid="uid://f1f1hktrckvd" path="res://UI/HUD/ProgressBars/DashBar.tscn" id="5_idogn"]
[ext_resource type="PackedScene" uid="uid://gjqrao5c4hiw" path="res://UI/HUD/Crosshair/AimingCrosshair.tscn" id="7_k0sf7"]
[ext_resource type="PackedScene" uid="uid://cvrfe7rsa7vhr" path="res://UI/HUD/ProgressBars/ManaBar.tscn" id="7_s78lh"]
[ext_resource type="Texture2D" uid="uid://dp56k2s8gtxf" path="res://UI/Menu/Art/Button.png" id="9_nd422"]
[ext_resource type="Texture2D" uid="uid://cqutvdxksiu7o" path="res://UI/Menu/Art/ButtonHover.png" id="10_22xp4"]
[ext_resource type="PackedScene" uid="uid://bcny128t8mbcb" path="res://Main/Tutorial.tscn" id="11_hiksi"]

[sub_resource type="LabelSettings" id="LabelSettings_gcscy"]
font = ExtResource("5_hiksi")
font_size = 24
outline_size = 2
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_itt6b"]
font = ExtResource("5_hiksi")
font_size = 24
outline_size = 2
outline_color = Color(0, 0, 0, 1)

[sub_resource type="Gradient" id="Gradient_22xp4"]
offsets = PackedFloat32Array(0.0909091, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.439049, 0.439049, 0.439049, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_itt6b"]
gradient = SubResource("Gradient_22xp4")
fill = 1
fill_from = Vector2(0.5, 0.5)

[node name="Game" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_n2juu")

[node name="Dungeon" parent="." instance=ExtResource("2_ew2mm")]
layer_0/tile_data = PackedInt32Array(-327687, 1, 0)
layer_1/tile_data = PackedInt32Array(655350, 0, 0, 589814, 0, 0, 524278, 0, 0, 458742, 0, 0, 393206, 0, 0, 327670, 0, 0, 262134, 0, 0, 196598, 0, 0, 131062, 0, 0, 65526, 0, 0, -10, 0, 0, -65546, 0, 0, -131082, 0, 0, -196618, 0, 0, -262154, 0, 0, -327690, 0, 0, -393226, 0, 0, -458762, 0, 0, -524298, 0, 0, -524297, 0, 0, -524296, 0, 0, -524295, 0, 0, -524294, 0, 0, -524293, 0, 0, -524292, 0, 0, -524291, 0, 0, -524290, 0, 0, -524289, 0, 0, -589824, 0, 0, -589823, 0, 0, -589822, 0, 0, -589821, 0, 0, -589820, 0, 0, -589819, 0, 0, -589818, 0, 0, -589817, 0, 0, -589816, 0, 0, -589815, 0, 0, -589814, 0, 0, -589813, 0, 0, -524277, 0, 0, -458741, 0, 0, -393205, 0, 0, -327669, 0, 0, -262133, 0, 0, -196597, 0, 0, 262155, 0, 0, 327691, 0, 0, 393227, 0, 0, 458763, 0, 0, 524299, 0, 0, 589835, 0, 0, 655351, 0, 0, 655352, 0, 0, 655353, 0, 0, 655354, 0, 0, 655355, 0, 0, 655356, 0, 0, 655357, 0, 0, 655358, 0, 0, 655359, 0, 0, 589824, 0, 0, 589825, 0, 0, 589826, 0, 0, 589827, 0, 0, 589828, 0, 0, 589829, 0, 0, 589830, 0, 0, 589831, 0, 0, 589832, 0, 0, 589833, 0, 0, 589834, 0, 0)

[node name="Player" parent="." instance=ExtResource("3_u20kj")]

[node name="Camera2D" type="Camera2D" parent="Player"]
position_smoothing_speed = 10.0

[node name="EnemiesContainer" type="Node2D" parent="."]
y_sort_enabled = true

[node name="PickupsContainer" type="Node2D" parent="."]
y_sort_enabled = true

[node name="ItemPickup" parent="PickupsContainer" instance=ExtResource("4_gcscy")]
position = Vector2(0, 96)

[node name="ProjectilesContainer" type="Node2D" parent="."]
y_sort_enabled = true

[node name="AfterimagesContainer" type="Node2D" parent="."]
y_sort_enabled = true

[node name="HUD" type="CanvasLayer" parent="."]

[node name="VBoxContainer" type="VBoxContainer" parent="HUD"]
custom_minimum_size = Vector2(64, 16)
offset_left = 24.0
offset_top = 4.0
offset_right = 88.0
offset_bottom = 60.0

[node name="HealthBar" parent="HUD/VBoxContainer" instance=ExtResource("5_gk5jb")]
layout_mode = 2

[node name="ManaBar" parent="HUD/VBoxContainer" instance=ExtResource("7_s78lh")]
layout_mode = 2

[node name="DashBar" parent="HUD/VBoxContainer" instance=ExtResource("5_idogn")]
custom_minimum_size = Vector2(48, 16)
layout_mode = 2

[node name="Death" type="ColorRect" parent="HUD"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.462745)

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/Death"]
custom_minimum_size = Vector2(0, 48)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -97.0
offset_top = -67.5
offset_right = 97.0
offset_bottom = 67.5
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 32
alignment = 1

[node name="Label" type="Label" parent="HUD/Death/VBoxContainer"]
layout_mode = 2
text = "YOU DIED
Your score was: "
label_settings = SubResource("LabelSettings_gcscy")
horizontal_alignment = 1

[node name="TextureButton" type="TextureButton" parent="HUD/Death/VBoxContainer"]
custom_minimum_size = Vector2(0, 48)
layout_mode = 2
texture_normal = ExtResource("9_nd422")
texture_hover = ExtResource("10_22xp4")
stretch_mode = 3

[node name="Label" type="Label" parent="HUD/Death/VBoxContainer/TextureButton"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "MENU"
label_settings = SubResource("LabelSettings_itt6b")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Score" type="Label" parent="HUD"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -129.0
offset_top = 8.0
offset_right = -8.0
offset_bottom = 51.0
grow_horizontal = 0
text = "Score: 67"
label_settings = SubResource("LabelSettings_gcscy")
horizontal_alignment = 2

[node name="AimingCrosshair" parent="." instance=ExtResource("7_k0sf7")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="Background" type="TextureRect" parent="CanvasLayer"]
z_index = -100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("GradientTexture2D_itt6b")

[node name="Tutorial" parent="." instance=ExtResource("11_hiksi")]

[connection signal="next_level" from="Dungeon" to="." method="_on_dungeon_next_level"]
[connection signal="pressed" from="HUD/Death/VBoxContainer/TextureButton" to="." method="_on_texture_button_pressed"]
